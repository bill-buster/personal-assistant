---
description: USE WHEN a workflow step fails, tests fail, tooling is flaky, or partial progress must be safely resumed.
globs:
alwaysApply: false
---

# Error Recovery Rules

## Default behavior
- Fail fast on safety/security issues.
- For non-safety failures: recover by returning to the last green gate.

## Recovery ladder
1) Reproduce: restate the failure and the exact command/output
2) Localize: smallest failing unit (single test file before full suite)
3) Fix: minimal change + add/adjust test
4) Verify: re-run the same command until green
5) Resume: continue workflow from the next step (don't restart blindly)

## Partial progress rules
- Never duplicate scaffolding files; detect and reuse existing ones.
- If state is unclear, write a short "Current State" block before proceeding.
